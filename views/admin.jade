extends layout

block content
    script
        $(function(){
            var navigate = function(href){
                $(".row-fluid").hide();
                $(href).show();
                $("#main-nav li").removeClass("active");
                var selector = "#main-nav li a[href="+href+"]";
                $(selector).parent().addClass("active");
            }
            var hash = window.location.hash || "#users";
            navigate(hash);
            $("#main-nav li a ").click(function(){
                navigate($(this).attr("href"));
            });
            $("#createUser").click(function(){
                $("#createUserForm").submit();
            });
            $("#saveWarehouse").click(function(){
                $("#changeWarehouseForm").submit();
            });
        });
    .navbar.navbar-inverse.navbar-fixed-top
        .navbar-inner
            .container-fluid
              a.btn.btn-navbar(data-toggle='collapse', data-target='.nav-collapse')
                span.icon-bar
                span.icon-bar
                span.icon-bar
              a.brand(href='/') Kassa
              .nav-collapse.collapse
                ul#main-nav.nav
                  li.active
                    a(href='#users') Kasutajad
                  li
                    a(href='#transactions') Tehingud
                  li
                    a(href='#warehouse') Laoseis
    .container-fluid
        .row-fluid#users
            .span12
                h1 Kassa kasutajad
                table.table.table-bordered.table-hover
                        thead
                            tr
                                th Staatus
                                th Eesnimi
                                th Perenimi
                                th Õllenimi
                                th Saldo
                        tbody#trans-tbody
                            each user in users
                                tr
                                    td= user.status
                                    td= user.firstname
                                    td= user.lastname
                                    td= user.beername
                                    td #{user.balance} €
                if users.length > 10
                    .pagination
                        ul
                            li: a «
                            li: a 1
                            li: a 2
                            li: a 3
                            li: a 4
                            li: a »
                a.btn(href='#newUser', role='button', data-toggle='modal') Lisa kasutaja
                #newUser.modal(tabindex='-1', role='dialog', aria-labelledby='addUserLabel', aria-hidden='true', style='display: none;')
                    .modal-header
                        button.close(type='button', data-dismiss='modal', aria-hidden='true') ×
                        h3#addUserLabel Lisa kasutaja
                    .modal-body
                        form#createUserForm.form-horizontal(action='/users', method='post')
                            .control-group
                                label.control-label(for='inputStatus') Staatus
                                .controls
                                    select(name='status')
                                        option reb!
                                        option ksv!
                                        option vil!
                                        option kül!
                            .control-group
                                label.control-label(for='inputFirstname') Eesnimi
                                .controls
                                    input#inputFirstname(type='text', placeholder='Eesnimi', name='firstname')
                            .control-group
                                label.control-label(for='inputLastname') Perenimi
                                .controls
                                    input#inputLastname(type='text', placeholder='Perenimi', name='lastname')
                            .control-group
                                label.control-label(for='inputBeername') Õllenimi
                                .controls
                                    input#inputBeername(type='text', placeholder='Õllenimi', name='beername')
                    .modal-footer
                        button.btn(data-dismiss='modal', aria-hidden='true') Sulge
                        button#createUser.btn.btn-primary Salvesta
        .row-fluid#transactions(style='display:none;')
            .span12
                h1 Tehingud
                table.table.table-bordered.table-hover
                        thead
                            tr
                                th Aeg
                                th Nimi
                                th Summa
                                th Makseviis
                        tbody#trans-tbody
                            each transaction in transactions
                                tr
                                    td transaction.time
                                    td transaction.user
                                    td transaction.sum €
                                    td transaction.type
                if transactions.length > 10
                    .pagination
                        ul
                            li: a «
                            li: a 1
                            li: a 2
                            li: a 3
                            li: a 4
                            li: a »
        .row-fluid#warehouse(style='display:none;')
            .span12
                h1 Laoseis
                table.table.table-bordered.table-hover
                        thead
                            tr
                                th Toode
                                th Hind
                                th Kogus
                        tbody#trans-tbody
                            each product in products
                                tr
                                    td= product.name
                                    td #{product.price} €
                                    td= product.quantity
                a.btn(href='#changeWarehouse', role='button', data-toggle='modal') Muuda laoseisu
                #changeWarehouse.modal(tabindex='-1', role='dialog', aria-labelledby='changeWarehouseLabel', aria-hidden='true', style='display: none;')
                    .modal-header
                        button.close(type='button', data-dismiss='modal', aria-hidden='true') ×
                        h3#changeWarehouseLabel Muuda laoseisu
                    .modal-body
                        form#changeWarehouseForm.form-horizontal(action='/warehouse', method='post')
                            .control-group
                                label.control-label(for='inputProduct') Toode
                                .controls
                                    select(name='name')
                                        option Õlu
                                        option Kali/Limonaad
                            .control-group
                                label.control-label(for='inputQty') Laoseis
                                .controls
                                    input#inputQty(type='text', placeholder='10',name='quantity')
                    .modal-footer
                        button.btn(data-dismiss='modal', aria-hidden='true') Sulge
                        button#saveWarehouse.btn.btn-primary Salvesta
